{"version":3,"sources":["../../src/validation.ts"],"sourcesContent":["import { assertIsSnapIcon } from './icon';\nimport { validateSnapManifestLocalizations } from './localization';\nimport { assertIsSnapManifest } from './manifest/validation';\nimport { validateSnapShasum } from './snaps';\nimport type { FetchedSnapFiles } from './types';\n\n/**\n * Validates the files contained in a fetched snap.\n *\n * @param files - All potentially included files in a fetched snap.\n * @throws If any of the files are considered invalid.\n */\nexport async function validateFetchedSnap(\n  files: FetchedSnapFiles,\n): Promise<void> {\n  assertIsSnapManifest(files.manifest.result);\n  await validateSnapShasum(files);\n  validateSnapManifestLocalizations(\n    files.manifest.result,\n    files.localizationFiles.map((file) => file.result),\n  );\n\n  if (files.svgIcon) {\n    assertIsSnapIcon(files.svgIcon);\n  }\n}\n"],"names":["validateFetchedSnap","files","assertIsSnapManifest","manifest","result","validateSnapShasum","validateSnapManifestLocalizations","localizationFiles","map","file","svgIcon","assertIsSnapIcon"],"mappings":";;;;+BAYsBA;;;eAAAA;;;sBAZW;8BACiB;4BACb;uBACF;AAS5B,eAAeA,oBACpBC,KAAuB;IAEvBC,IAAAA,gCAAoB,EAACD,MAAME,QAAQ,CAACC,MAAM;IAC1C,MAAMC,IAAAA,yBAAkB,EAACJ;IACzBK,IAAAA,+CAAiC,EAC/BL,MAAME,QAAQ,CAACC,MAAM,EACrBH,MAAMM,iBAAiB,CAACC,GAAG,CAAC,CAACC,OAASA,KAAKL,MAAM;IAGnD,IAAIH,MAAMS,OAAO,EAAE;QACjBC,IAAAA,sBAAgB,EAACV,MAAMS,OAAO;IAChC;AACF"}